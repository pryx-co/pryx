name = "pryx"
compatibility_date = "2025-08-15"
compatibility_flags = ["nodejs_compat"]
main = "./worker.ts"
account_id = "a37da71c38a2f7ab732057d87d5d0f6e"

[vars]
ENVIRONMENT = "production"

# Custom domain routing - ALL under pryx.dev
# pryx.dev/* â†’ served by worker (API routes + static fallback)
[[routes]]
pattern = "pryx.dev"
custom_domain = true

# KV Namespaces for auth and session storage (SHARED)
[[kv_namespaces]]
binding = "DEVICE_CODES"
id = "1e85f99a90fc487ea99e10753f7abd72"

[[kv_namespaces]]
binding = "TOKENS"
id = "d7c2e95e549842ce83ab6d9a4848fa95"

[[kv_namespaces]]
binding = "SESSIONS"
id = "580c90f74ca941ea91a460afc63d9474"

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 0.1
persist = true
invocation_logs = true

[observability.traces]
enabled = false
persist = true
head_sampling_rate = 1
