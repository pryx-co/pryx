name = "pryx-web"
pages_build_output_dir = "./dist"
compatibility_date = "2026-01-01"
compatibility_flags = ["nodejs_compat"]

[vars]
ENVIRONMENT = "production"

# Auth storage
[[kv_namespaces]]
binding = "DEVICE_CODES"
id = "pryx_device_codes"

[[kv_namespaces]]
binding = "TOKENS"
id = "pryx_tokens"

# Mesh sync / Sessions storage
[[kv_namespaces]]
binding = "SESSIONS"
id = "pryx_sessions"

# Rate limiting
[[unsafe.bindings]]
name = "RATE_LIMITER"
type = "ratelimit"
namespace_id = "pryx_cloud"
simple = { limit = 100, period = 60 }
